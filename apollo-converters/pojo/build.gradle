plugins {
  id "com.ewerk.gradle.plugins.auto-value" version "1.0.5"
}

apply plugin: 'java'

targetCompatibility = JavaVersion.VERSION_1_7
sourceCompatibility = JavaVersion.VERSION_1_7

configurations {
  compileOnly
}

sourceSets.test.compileClasspath += configurations.compileOnly
sourceSets.test.runtimeClasspath += configurations.compileOnly

tasks.withType(Checkstyle) {
  exclude '**/pojo/BufferedSourceJsonReader.java'
  exclude '**/pojo/JsonScope.java'
}

autoValue {
  library = "com.google.auto.value:auto-value:1.3"
}

dependencies {
  compile dep.jsr305
  compile dep.retrofit
  compileOnly project (":apollo-api")

  testCompile dep.moshi
  testCompile dep.retrofitMoshiConverter
  testCompile dep.junit
  testCompile dep.truth
  testCompile dep.mockWebServer
}

apply from: rootProject.file('gradle/gradle-mvn-push.gradle')
